{"version":3,"sources":["../src/shockinflux-payview.js"],"names":[],"mappings":"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","file":"shockinflux.min.js","sourcesContent":["import React, { Component, Fragment } from \"react\";\nimport PropTypes from \"prop-types\";\n\nclass shockinfluxPayview extends Component {\n  constructor(props) {\n    super(props);\n    this.payWithShockinflux = this.payWithShockinflux.bind(this);\n    this.loadScript = this.loadScript.bind(this);\n    this.state = {\n      scriptLoaded: null,\n      text: this.props.text || \"Make Payment\",\n      currency: this.props.currency || \"ngn\",\n      template: this.props.template || \"modern\",\n      language: this.props.language || \"en\",\n      action: this.props.action || \"float\",\n      country: this.props.country || \"ng\"\n    };\n  }\n\n  componentDidMount() {\n    this.setState({\n      scriptLoaded: new Promise(resolve => {\n        this.loadScript(() => {\n          resolve();\n        });\n      })\n    });\n  }\n\n  loadScript(callback) {\n    const script = document.createElement(\"script\");\n    script.src = 'https://scripts-cdn.boxedall.com/shockinflux/v2/payview/js/shockpaymentv2_client.js';\n    document.getElementsByTagName(\"head\")[0].appendChild(script);\n    if (script.readyState) {\n      // IE\n      script.onreadystatechange = () => {\n        if (\n          script.readyState === \"loaded\" ||\n          script.readyState === \"complete\"\n        ) {\n          script.onreadystatechange = null;\n          callback();\n        }\n      };\n    } else {\n      // Others\n      script.onload = () => {\n        callback();\n      };\n    }\n  }\n\n  payWithShockinflux() {\n    this.state.scriptLoaded &&\n      this.state.scriptLoaded.then(() => {\n        window.shock_payview({\n          email: this.props.email,\n          amount: this.props.amount,\n          currency: this.state.currency,\n          template: this.state.template,\n          language: this.state.language,\n          action: this.state.action,\n          transactionid: this.props.transactionid,\n          storeid: this.props.storeid,\n          comment: this.props.currency,\n          onclose: () => this.props.close(),\n          callback: response => this.props.callback(response)\n        });\n      });\n  }\n\n  render() {\n    const CustomTag = `${this.props.tag}`;\n\n    return (\n      <Fragment>\n        <CustomTag className={this.state.class} onClick={this.payWithShockinflux}>\n          {this.state.text}\n        </CustomTag>\n      </Fragment>\n    );\n  }\n}\n\nshockinfluxPayview.defaultProps = {\n  tag: \"button\"\n};\n\nshockinfluxPayview.propTypes = {\n  email: PropTypes.string.isRequired,\n  amount: PropTypes.number.isRequired,\n  currency: PropTypes.string,\n  template: PropTypes.string,\n  language: PropTypes.string,\n  action: PropTypes.string,\n  transactionid: PropTypes.string.isRequired,\n  storeid: PropTypes.string.isRequired,\n  comment: PropTypes.string,\n  country: PropTypes.string,\n  callback: PropTypes.func.isRequired,\n  close: PropTypes.func.isRequired\n};\n\nexport default shockinfluxPayview;\n"]}